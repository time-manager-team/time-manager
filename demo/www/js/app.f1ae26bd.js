(function(){var t={6700:function(t,e,s){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function n(t){var e=o(t);return s(e)}function o(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=o,t.exports=n,n.id=6700},566:function(t,e,s){"use strict";var a=s(9242),n=s(3396),o=s(4870),i=s(2483),r=(s(7658),s.p+"img/tm_logo_lighter.5c8a66b4.png");const l=t=>((0,n.dD)("data-v-ad457a80"),t=t(),(0,n.Cn)(),t),c=l((()=>(0,n._)("div",{class:"login-logo-container"},[(0,n._)("img",{class:"login-logo",src:r})],-1))),d={key:0,class:"login-form-container"},h={class:"login-form",role:"form"},u=l((()=>(0,n._)("h5",{class:"login-form-title"},"Login",-1))),m={class:"login-form-fields"},p={class:"login-form-field"},g=l((()=>(0,n._)("label",{for:"Email"},"Email",-1))),f={class:"login-form-field"},v=l((()=>(0,n._)("label",{for:"Username"},"Username",-1))),w={class:"login-form-buttons"},y=l((()=>(0,n._)("span",{class:"login-form-button-separator"},null,-1))),b={data:function(){return{user:{username:"",id:"",email:"",isAuthoriseAdmin:!1,isAuthoriseManager:!1},session:{active:!1,id:null,username:"",email:"",isAuthoriseAdmin:!1,isAuthoriseManager:!1}}},mounted(){localStorage.session?this.session=JSON.parse(localStorage.session):localStorage.session=JSON.stringify({...this.session})},methods:{createUser:function(){fetch("http://localhost:4001/api/users",{mode:"cors",method:"POST",body:JSON.stringify({username:this.user.username,email:this.user.email}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{t.success?(console.log(t),this.$toast.success("User created !",{position:"top-right"}),this.registerUser(!0,t.content.user.id,t.content.user.username,t.content.user.email),na.replace("/home")):(console.log(t),this.$toast.error(t.error,{position:"top-right"}))}))},getUser:function(){fetch("http://localhost:4001/api/login?username="+this.user.username+"&email="+this.user.email,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{t.success&&1===t.content.length?(this.$toast.success(t.message,{position:"top-right"}),console.log("reponse : ",t),this.registerUser(!0,t.content[0].id,t.content[0].username,t.content[0].email,t.content[0].isAuthoriseAdmin,t.content[0].isAuthoriseManager),na.push("/home")):this.$toast.error(t.error,{position:"top-right"})}))},registerUser:function(t,e,s,a,n,o){if(this.checkUserInfos(t,e,s,a)){const i={active:t,id:e,username:s,email:a,isAuthoriseAdmin:n,isAuthoriseManager:o};this.session=i,localStorage.session=JSON.stringify(i)}else{const t={active:!1,id:null,username:"",email:"",isAuthoriseAdmin:!1,isAuthoriseManager:!1};this.session=t,localStorage.session=JSON.stringify(t)}},checkUserInfos:function(t,e,s,a){return"boolean"===typeof t&&"number"===typeof e&&"string"===typeof s&&s.length>0&&"string"===typeof a&&a.length>0}}};var k=Object.assign(b,{__name:"Login",setup(t){return(t,e)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[c,t.session&&t.session.active?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",h,[u,(0,n._)("div",m,[(0,n._)("div",p,[g,(0,n.wy)((0,n._)("input",{id:"Email",type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>t.user.email=e)},null,512),[[a.nr,t.user.email]])]),(0,n._)("div",f,[v,(0,n.wy)((0,n._)("input",{id:"Username",type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.user.username=e)},null,512),[[a.nr,t.user.username]])])]),(0,n._)("div",w,[(0,n._)("button",{class:"login-form-button-connect",onClick:e[2]||(e[2]=e=>t.getUser())},"Log in"),y,(0,n._)("button",{class:"login-form-button-create",onClick:e[3]||(e[3]=e=>t.createUser())},"Register")])])]))],64))}}),_=s(89);const j=(0,_.Z)(k,[["__scopeId","data-v-ad457a80"]]);var T=j,D=s(7139);const S=t=>((0,n.dD)("data-v-3d87b14c"),t=t(),(0,n.Cn)(),t),U={class:"menu-title-container"},W={class:"greeting-card"},C={class:"menu-title"},z={class:"card-menu-container"},x={class:"card-menu"},O=(0,n.uE)('<h2 class="card-menu-title" data-v-3d87b14c>Working times</h2><p class="card-menu-description" data-v-3d87b14c>View and manage your working times</p><div class="card-menu-icon" data-v-3d87b14c><svg viewBox="0 0 24 24" data-v-3d87b14c><path d="m12 1.25a10.75 10.75 0 1 0 10.75 10.75 10.762 10.762 0 0 0 -10.75-10.75zm-6.25 10.75a.75.75 0 0 1 -1.5 0 7.759 7.759 0 0 1 7.75-7.75 7.651 7.651 0 0 1 2.991.6.75.75 0 1 1 -.582 1.382 6.174 6.174 0 0 0 -2.409-.482 6.257 6.257 0 0 0 -6.25 6.25zm11.86-4.564-4.247 5.945a1.5 1.5 0 1 1 -1.363-.881c.048 0 .093.01.14.014l4.25-5.95a.75.75 0 1 1 1.22.872zm1.39 5.314a.75.75 0 0 1 -.75-.75 5.909 5.909 0 0 0 -.2-1.556.75.75 0 1 1 1.449-.388 7.486 7.486 0 0 1 .251 1.944.75.75 0 0 1 -.75.75z" data-v-3d87b14c></path></svg></div>',3),V=S((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),I={class:"card-menu"},M=S((()=>(0,n._)("h2",{class:"card-menu-title"},"Clock",-1))),A=S((()=>(0,n._)("p",{class:"card-menu-description"},"Clock Gestion",-1))),E={class:"card-menu-description"},F={key:0,class:"card-menu-description"},$=S((()=>(0,n._)("div",{class:"card-menu-icon"},[(0,n._)("svg",{viewBox:"0 0 24 24"},[(0,n._)("path",{d:"m12 1.25a10.75 10.75 0 1 0 10.75 10.75 10.762 10.762 0 0 0 -10.75-10.75zm-6.25 10.75a.75.75 0 0 1 -1.5 0 7.759 7.759 0 0 1 7.75-7.75 7.651 7.651 0 0 1 2.991.6.75.75 0 1 1 -.582 1.382 6.174 6.174 0 0 0 -2.409-.482 6.257 6.257 0 0 0 -6.25 6.25zm11.86-4.564-4.247 5.945a1.5 1.5 0 1 1 -1.363-.881c.048 0 .093.01.14.014l4.25-5.95a.75.75 0 1 1 1.22.872zm1.39 5.314a.75.75 0 0 1 -.75-.75 5.909 5.909 0 0 0 -.2-1.556.75.75 0 1 1 1.449-.388 7.486 7.486 0 0 1 .251 1.944.75.75 0 0 1 -.75.75z"})])],-1))),N={class:"card-menu"},L=(0,n.uE)('<h2 class="card-menu-title" data-v-3d87b14c>Dashboard</h2><p class="card-menu-description" data-v-3d87b14c>Visualize your working times with charts and graphs</p><div class="card-menu-icon" data-v-3d87b14c><svg viewBox="0 0 512 512" data-v-3d87b14c><g data-v-3d87b14c><g data-v-3d87b14c><path d="M256,0C114.844,0,0,114.844,0,256s114.844,256,256,256s256-114.844,256-256S397.156,0,256,0z M256,74.667\n                c67.635,0,122.667,55.031,122.667,122.667S323.635,320,256,320s-122.667-55.031-122.667-122.667S188.365,74.667,256,74.667z\n                M256,469.333c-69.707,0-131.52-33.755-170.473-85.615c42.676-20.534,103.621-42.385,170.473-42.385\n                c66.857,0,127.807,21.854,170.474,42.383C387.521,435.577,325.708,469.333,256,469.333z" data-v-3d87b14c></path></g></g></svg></div>',3),B=S((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),J={key:0,class:"card-menu"},Y=(0,n.uE)('<h2 class="card-menu-title" data-v-3d87b14c>Admin view</h2><p class="card-menu-description" data-v-3d87b14c>Admin view</p><div class="card-menu-icon" data-v-3d87b14c><svg viewBox="0 0 512 512" data-v-3d87b14c><g data-v-3d87b14c><path d="m256 121.538c-72.642 0-131.74 59.099-131.74 131.741s59.099 131.739 131.74 131.739 131.74-59.098 131.74-131.739c0-72.642-59.098-131.741-131.74-131.741zm67.469 146.74h-82.469v-82.468h30v52.469h52.469z" data-v-3d87b14c></path><path d="m512 219.617h-52.861l-2.744-11.525c-5.04-21.168-13.394-41.321-24.829-59.902l-6.21-10.091 37.392-37.392-51.455-51.454-37.391 37.392-10.091-6.21c-18.58-11.436-38.734-19.789-59.901-24.829l-11.525-2.744v-52.862h-72.768v52.861l-11.525 2.744c-21.167 5.04-41.321 13.394-59.901 24.829l-10.091 6.21-37.391-37.392-51.454 51.454 37.391 37.392-6.21 10.091c-11.436 18.581-19.79 38.735-24.832 59.903l-2.744 11.525h-52.86v72.766h52.86l2.744 11.525c5.041 21.168 13.396 41.322 24.83 59.902l6.21 10.091-37.391 37.391 51.454 51.454 37.391-37.391 10.091 6.21c18.58 11.436 38.734 19.789 59.901 24.829l11.525 2.744v52.862h72.768v-52.861l11.525-2.744c21.167-5.04 41.321-13.394 59.901-24.829l10.091-6.21 37.391 37.392 51.455-51.455-37.392-37.391 6.21-10.091c11.436-18.581 19.789-38.734 24.829-59.902l2.744-11.525h52.863zm-256 195.402c-89.184 0-161.74-72.556-161.74-161.739 0-89.185 72.557-161.741 161.74-161.741s161.74 72.557 161.74 161.741c0 89.183-72.556 161.739-161.74 161.739z" data-v-3d87b14c></path></g></svg></div>',3),H=S((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),P={key:1,class:"card-menu"},G=(0,n.uE)('<h2 class="card-menu-title" data-v-3d87b14c>Manager view</h2><p class="card-menu-description" data-v-3d87b14c>Manager view</p><div class="card-menu-icon" data-v-3d87b14c><svg viewBox="0 0 512 512" data-v-3d87b14c><g data-v-3d87b14c><path d="m256 121.538c-72.642 0-131.74 59.099-131.74 131.741s59.099 131.739 131.74 131.739 131.74-59.098 131.74-131.739c0-72.642-59.098-131.741-131.74-131.741zm67.469 146.74h-82.469v-82.468h30v52.469h52.469z" data-v-3d87b14c></path><path d="m512 219.617h-52.861l-2.744-11.525c-5.04-21.168-13.394-41.321-24.829-59.902l-6.21-10.091 37.392-37.392-51.455-51.454-37.391 37.392-10.091-6.21c-18.58-11.436-38.734-19.789-59.901-24.829l-11.525-2.744v-52.862h-72.768v52.861l-11.525 2.744c-21.167 5.04-41.321 13.394-59.901 24.829l-10.091 6.21-37.391-37.392-51.454 51.454 37.391 37.392-6.21 10.091c-11.436 18.581-19.79 38.735-24.832 59.903l-2.744 11.525h-52.86v72.766h52.86l2.744 11.525c5.041 21.168 13.396 41.322 24.83 59.902l6.21 10.091-37.391 37.391 51.454 51.454 37.391-37.391 10.091 6.21c18.58 11.436 38.734 19.789 59.901 24.829l11.525 2.744v52.862h72.768v-52.861l11.525-2.744c21.167-5.04 41.321-13.394 59.901-24.829l10.091-6.21 37.391 37.392 51.455-51.455-37.392-37.391 6.21-10.091c11.436-18.581 19.789-38.734 24.829-59.902l2.744-11.525h52.863zm-256 195.402c-89.184 0-161.74-72.556-161.74-161.739 0-89.185 72.557-161.741 161.74-161.741s161.74 72.557 161.74 161.741c0 89.183-72.556 161.739-161.74 161.739z" data-v-3d87b14c></path></g></svg></div>',3),Z=S((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),R={class:"card-menu"},q=(0,n.uE)('<h2 class="card-menu-title" data-v-3d87b14c>Profile</h2><p class="card-menu-description" data-v-3d87b14c>Update your user informations</p><div class="card-menu-icon" data-v-3d87b14c><svg viewBox="0 0 512 512" data-v-3d87b14c><g data-v-3d87b14c><path d="m256 121.538c-72.642 0-131.74 59.099-131.74 131.741s59.099 131.739 131.74 131.739 131.74-59.098 131.74-131.739c0-72.642-59.098-131.741-131.74-131.741zm67.469 146.74h-82.469v-82.468h30v52.469h52.469z" data-v-3d87b14c></path><path d="m512 219.617h-52.861l-2.744-11.525c-5.04-21.168-13.394-41.321-24.829-59.902l-6.21-10.091 37.392-37.392-51.455-51.454-37.391 37.392-10.091-6.21c-18.58-11.436-38.734-19.789-59.901-24.829l-11.525-2.744v-52.862h-72.768v52.861l-11.525 2.744c-21.167 5.04-41.321 13.394-59.901 24.829l-10.091 6.21-37.391-37.392-51.454 51.454 37.391 37.392-6.21 10.091c-11.436 18.581-19.79 38.735-24.832 59.903l-2.744 11.525h-52.86v72.766h52.86l2.744 11.525c5.041 21.168 13.396 41.322 24.83 59.902l6.21 10.091-37.391 37.391 51.454 51.454 37.391-37.391 10.091 6.21c18.58 11.436 38.734 19.789 59.901 24.829l11.525 2.744v52.862h72.768v-52.861l11.525-2.744c21.167-5.04 41.321-13.394 59.901-24.829l10.091-6.21 37.391 37.392 51.455-51.455-37.392-37.391 6.21-10.091c11.436-18.581 19.789-38.734 24.829-59.902l2.744-11.525h52.863zm-256 195.402c-89.184 0-161.74-72.556-161.74-161.739 0-89.185 72.557-161.741 161.74-161.741s161.74 72.557 161.74 161.741c0 89.183-72.556 161.739-161.74 161.739z" data-v-3d87b14c></path></g></svg></div>',3),K=S((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),Q={data:function(){return{running:!0,session:{active:!1,id:null,username:"",email:"",isAuthoriseAdmin:!1,isAuthoriseManager:!1},clock:{id:-1,status:!1,time:"",user:-1},startedAt:"",hours:0,minutes:0,seconds:0}},mounted(){this.getClock(),localStorage.session?this.session.id!==JSON.parse(localStorage.session).id&&(this.session=JSON.parse(localStorage.session)):localStorage.session=JSON.stringify({...this.session}),setInterval((()=>this.setTime()),1e3)},methods:{stopT:function(){this.running=!1},startT:function(){this.running=!0},startClock:function(){var t=this.clock.id;fetch("http://localhost:4001/api/clocks/"+t,{method:"PUT",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{this.clock=t.content}))},getClock:function(){var t=JSON.parse(localStorage.session).id;fetch("http://localhost:4001/api/clocks/"+t,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{this.clock=t.content}))},setTime(){const t=new Date;let e=t.getHours(),s=t.getMinutes(),a=t.getSeconds();e=e<=9?`${e}`.padStart(2,0):e,s=s<=9?`${s}`.padStart(2,0):s,a=a<=9?`${a}`.padStart(2,0):a,this.hours=e,this.minutes=s,this.seconds=a}}};var X=Object.assign(Q,{__name:"Home",setup(t){return(t,e)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",U,[(0,n._)("div",W,[(0,n._)("h1",C,"Welcome "+(0,D.zw)(t.session.username)+" !",1)])]),(0,n._)("div",z,[(0,n._)("div",x,[O,(0,n.Wm)((0,o.SU)(i.rH),{to:`/working_times/${t.session.id}`},{default:(0,n.w5)((()=>[V])),_:1},8,["to"])]),(0,n._)("div",I,[M,A,(0,n._)("p",E,(0,D.zw)(t.hours)+" : "+(0,D.zw)(t.minutes)+" : "+(0,D.zw)(t.seconds),1),!0===t.clock.status?((0,n.wg)(),(0,n.iD)("p",F,(0,D.zw)(t.hours)+" : "+(0,D.zw)(t.minutes)+" : "+(0,D.zw)(t.seconds),1)):(0,n.kq)("",!0),$,!1===t.clock.status?((0,n.wg)(),(0,n.iD)("button",{key:1,class:"card-menu-button",onClick:e[0]||(e[0]=e=>t.startClock())},"Start Clock")):(0,n.kq)("",!0),!0===t.clock.status?((0,n.wg)(),(0,n.iD)("button",{key:2,class:"card-menu-button",onClick:e[1]||(e[1]=e=>t.startClock())},"End Clock")):(0,n.kq)("",!0)]),(0,n._)("div",N,[L,(0,n.Wm)((0,o.SU)(i.rH),{to:"/chart_manager/1"},{default:(0,n.w5)((()=>[B])),_:1})]),!0===t.session.isAuthoriseAdmin?((0,n.wg)(),(0,n.iD)("div",J,[Y,(0,n.Wm)((0,o.SU)(i.rH),{to:"/adminView"},{default:(0,n.w5)((()=>[H])),_:1})])):(0,n.kq)("",!0),!0===t.session.isAuthoriseManager?((0,n.wg)(),(0,n.iD)("div",P,[G,(0,n.Wm)((0,o.SU)(i.rH),{to:"/managerView"},{default:(0,n.w5)((()=>[Z])),_:1})])):(0,n.kq)("",!0),(0,n._)("div",R,[q,(0,n.Wm)((0,o.SU)(i.rH),{to:"/users/1"},{default:(0,n.w5)((()=>[K])),_:1})])])],64))}});const tt=(0,_.Z)(X,[["__scopeId","data-v-3d87b14c"]]);var et=tt;const st=t=>((0,n.dD)("data-v-3b50d2c5"),t=t(),(0,n.Cn)(),t),at={class:"profile-container"},nt={key:0,class:"profile-form"},ot={class:"profile-picture"},it={class:"profile-field"},rt=st((()=>(0,n._)("label",{for:"username",class:""},"Username",-1))),lt={class:"profile-field"},ct=st((()=>(0,n._)("label",{for:"email",class:""},"Email",-1))),dt={class:"profile-field"},ht=st((()=>(0,n._)("label",{for:"role",class:""},"Role",-1)));function ut(t,e,s,o,i,r){return(0,n.wg)(),(0,n.iD)("div",at,[i.user?((0,n.wg)(),(0,n.iD)("div",nt,[(0,n._)("div",ot,[(0,n._)("span",null,(0,D.zw)(i.user&&(i.user.username[0]+i.user.username[1]).toUpperCase()),1)]),(0,n._)("div",it,[rt,(0,n.wy)((0,n._)("input",{type:"text",name:"username",id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>i.updatedUser.username=t),class:"mt-1 block w-full rounded-md border border p-2"},null,512),[[a.nr,i.updatedUser.username]])]),(0,n._)("div",lt,[ct,(0,n.wy)((0,n._)("input",{type:"text",name:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>i.updatedUser.email=t),class:"mt-1 block w-full rounded-md border border p-2"},null,512),[[a.nr,i.updatedUser.email]])]),(0,n._)("div",dt,[ht,(0,n.wy)((0,n._)("input",{type:"text",name:"role",id:"role","onUpdate:modelValue":e[2]||(e[2]=t=>i.user.role_name=t),class:"mt-1 block w-full rounded-md border border p-2",disabled:""},null,512),[[a.nr,i.user.role_name]])]),(0,n._)("button",{class:"submit-button",onClick:e[3]||(e[3]=t=>r.updateUser())},"Submit")])):(0,n.kq)("",!0)])}var mt={data(){return{user:null,updatedUser:{username:this.user?this.user.username:null,email:this.user?this.user.email:null}}},async created(){await this.getUser()},methods:{getUser:async function(){const t=await fetch("http://localhost:4001/api/users/"+this.$route.params.userID,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}}),{content:e,success:s,message:a}=await t.json();s&&e?(this.user=e,this.updatedUser.username=e.username,this.updatedUser.email=e.email):this.$toast.error(t.error,{position:"top-right"})},updateUser:async function(){const t=await fetch("http://localhost:4001/api/users/"+this.$route.params.userID,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"},method:"PUT",body:JSON.stringify({username:this.updatedUser.username,email:this.updatedUser.email})}),{success:e,message:s}=await t.json();e?(this.$toast.success(s,{position:"top-right"}),await this.getUser()):this.$toast.error(s,{position:"top-right"})}}};const pt=(0,_.Z)(mt,[["render",ut],["__scopeId","data-v-3b50d2c5"]]);var gt=pt;const ft=t=>((0,n.dD)("data-v-98981402"),t=t(),(0,n.Cn)(),t),vt={class:"calendar-container"},wt=ft((()=>(0,n._)("div",{class:"menu-title-container"},[(0,n._)("div",{class:"greeting-card"},[(0,n._)("h1",{class:"menu-title"},"Working times")])],-1))),yt=ft((()=>(0,n._)("svg",{viewBox:"0 0 457.47 457.469"},[(0,n._)("path",{d:"M228.734,0C102.41,0,0,102.41,0,228.735C0,355.06,102.41,457.469,228.734,457.469\n          c126.325,0,228.735-102.409,228.735-228.734C457.47,102.41,355.06,0,228.734,0z M359.268,265.476h-97.326v97.315\n          c0,16.668-13.506,30.186-30.181,30.186c-16.668,0-30.189-13.518-30.189-30.186v-97.315h-97.309\n          c-16.674,0-30.192-13.512-30.192-30.187c0-16.674,13.518-30.188,30.192-30.188h97.315v-97.31c0-16.674,13.515-30.183,30.189-30.183\n          c16.675,0,30.187,13.509,30.187,30.183v97.315h97.314c16.669,0,30.192,13.515,30.192,30.188\n          C389.46,251.97,375.937,265.476,359.268,265.476z"})],-1))),bt={class:"cell-container-cell-2 flex flex-col h-full z-10 overflow-hidden"},kt={class:"cell-container-cell-1 day-label text-sm text-gray-900"},_t=["id"],jt=["onClick"],Tt=ft((()=>(0,n._)("span",{class:"dot"},null,-1))),Dt={class:"modal-update-wt"},St={class:"modal-mask"},Ut={class:"modal-wrapper"},Wt={class:"modal-container"},Ct={class:"modal-header"},zt={class:"modal-body"},xt=ft((()=>(0,n._)("label",{for:"selectedStart",class:"block text-sm font-medium text-gray-700"},"Start",-1))),Ot=ft((()=>(0,n._)("label",{for:"selectedEnd",class:"block text-sm font-medium text-gray-700"},"End",-1))),Vt={class:"modal-footer"},It={key:0},Mt={key:1},At=ft((()=>(0,n._)("span",null,null,-1)));function Et(t,e,s,o,i,r){const l=(0,n.up)("v-calendar");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",vt,[wt,(0,n._)("button",{onClick:e[0]||(e[0]=t=>r.openCreateWt("create")),class:"app-button"},[yt,(0,n.Uk)(" New working time ")]),(0,n.Wm)(l,{class:"custom-calendar max-w-full",masks:i.masks,attributes:i.attributes,"disable-page-swipe":"","is-expanded":""},{"day-content":(0,n.w5)((({day:t,attributes:s})=>[(0,n._)("div",bt,[(0,n._)("span",kt,(0,D.zw)(t.day),1),(0,n._)("div",{class:"cell-container-cell flex-grow overflow-y-auto overflow-x-auto",onClick:e[1]||(e[1]=()=>{}),style:{"z-index":"0"}},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.key,class:(0,D.C_)(["cell-container text-xs leading-tight rounded-sm p-1 mt-0 mb-1 calendarBorder",t.customData.class]),id:t.customData.id,style:{"z-index":"0"}},[(0,n._)("p",{onClick:e=>r.openSelectedWorkingTime(t,"update"),class:"cell"},[Tt,(0,n.Uk)(" "+(0,D.zw)(t.customData.start)+" - "+(0,D.zw)(t.customData.end),1)],8,jt)],10,_t)))),128))])])])),_:1},8,["masks","attributes"])]),(0,n.wy)((0,n._)("div",Dt,[(0,n._)("div",St,[(0,n._)("div",Ut,[(0,n._)("div",Wt,[(0,n._)("div",Ct,[(0,n.WI)(t.$slots,"header",{},void 0,!0)]),(0,n._)("div",zt,[xt,(0,n.wy)((0,n._)("input",{type:"datetime-local",name:"selectedStart",id:"selectedStart","onUpdate:modelValue":e[2]||(e[2]=t=>i.selectedStart=t),class:"mt-1 block w-full rounded-md border border p-2"},null,512),[[a.nr,i.selectedStart]]),Ot,(0,n.wy)((0,n._)("input",{type:"datetime-local",name:"selectedEnd",id:"selectedEnd","onUpdate:modelValue":e[3]||(e[3]=t=>i.selectedEnd=t),class:"mt-1 block w-full rounded-md border border p-2"},null,512),[[a.nr,i.selectedEnd]])]),(0,n._)("div",Vt,[(0,n._)("button",{class:"app-button",onClick:e[4]||(e[4]=t=>"create"===i.mode?r.createWorkingTime():r.updateWorkingTime())},["create"===i.mode?((0,n.wg)(),(0,n.iD)("span",It,"Create")):((0,n.wg)(),(0,n.iD)("span",Mt,"Update")),At]),(0,n._)("button",{class:"app-button",onClick:e[5]||(e[5]=t=>r.hideModal())},"Cancel")])])])])],512),[[a.F8,i.editVisible]])],64)}var Ft={getAllWorkingTimesUser:async function(t,e,s){if(e&&s){const a=await fetch(`http://localhost:4001/api/workingtimes/${t}?start=${e}&end=${s}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return a.json()}if(e&&!s){const s=await fetch(`http://localhost:4001/api/workingtimes/${t}?start=${e}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return s.json()}if(s&&!e){const e=await fetch(`http://localhost:4001/api/workingtimes/${t}?end=${s}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return e.json()}{const e=await fetch(`http://localhost:4001/api/workingtimes/${t}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return e.json()}},getOneWorkingTimesUser:async function(t,e){const s=await fetch(`http://localhost:4001/api/users/${t}/workingtimes/${e}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return s.json()},createWorkingTimesUser:async function(t,e){const s=await fetch(`http://localhost:4001/api/workingtimes/${t}`,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)});return s.json()},updateWorkingTimesUser:async function(t,e){const s=await fetch(`http://localhost:4001/api/workingtimes/${t}`,{method:"PUT",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)});return s.json()},deleteWorkingTimesUser:async function(t){const e=await fetch(`http://localhost:4001/api/workingtimes/${t}`,{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return e.json()},retrieveWorkingTimeByTeam:async function(t,e,s){const a=await fetch(`http://localhost:4001/api/workingtimesTeams/${t}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return a.json()}},$t={data(){return{wT:[{id:1,isConnected:""}],visible:!1,masks:{weekdays:"WWW"},attributes:[],selectedStart:"2000-01-01T00:00:00",selectedEnd:"2000-01-01T01:00:00",editVisible:!1,wtId:null,mode:null}},async created(){await this.getWorkingTimesUser()},methods:{getWorkingTimesUser:async function(){const t=parseInt(this.$route.params.userID),e=localStorage.session?localStorage.session:null,s=!!e&&JSON.parse(e).isAuthoriseManager;var a=e?JSON.parse(e).id:-1,n=!1;if((a!==t&&!0===s||a===t)&&(n=!0),n){const e=await fetch("http://localhost:4001/api/workingtimes/"+t,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}}),{content:s,success:a}=await e.json();if(a&&s&&s.length>0){this.wT=s;var o=[],i=1;this.wT.forEach((t=>{var e=t.start.slice(0,-1),s=t.end.slice(0,-1),a=t.start;a=a.split("T");var n=a[0].split("-"),r=a[1].slice(0,-1),l=t.end;l=l.split("T");var c=l[1].slice(0,-1),d={key:i,isVisible:!1,customData:{id:t.id,title:"workingTime",class:"bg-red-600 text-white",startTime:e,endTime:s,start:r,end:c},dates:new Date(n[0],parseInt(n[1])-1,n[2])};o.push(d),i++})),this.attributes=o}else this.$toast.error("No working time for this user",{position:"top-right"})}else this.$toast.error("Access not autorized !",{position:"top-right"}),na.replace("/home")},openSelectedWorkingTime:function(t,e){this.mode=e,this.editVisible=!0,this.selectedStart=t.customData.startTime,this.selectedEnd=t.customData.endTime,this.wtId=t.customData.id},openCreateWt:function(t){this.mode=t,this.editVisible=!0,this.selectedStart=null,this.selectedEnd=null,this.wtId=null},createWorkingTime:async function(){this.selectedStart=2===this.selectedStart.split(":").length?this.selectedStart+":00Z":this.selectedStart+"Z",this.selectedEnd=2===this.selectedEnd.split(":").length?this.selectedEnd+":00Z":this.selectedEnd+"Z",fetch("http://localhost:4001/api/workingtimes/"+JSON.parse(localStorage.session).id,{mode:"cors",method:"POST",body:JSON.stringify({start:this.selectedStart,end:this.selectedEnd}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{this.editVisible=!1}))},updateWorkingTime:function(){var t=this.selectedStart;t=2===t.split(":").length?t+":00Z":t+"Z";var e=this.selectedEnd;e=2===e.split(":").length?e+":00Z":e+"Z",fetch("http://localhost:4001/api/workingtimes/"+this.wtId,{mode:"cors",method:"PUT",body:JSON.stringify({start:t,end:e}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{this.editVisible=!1}))},hideModal:function(){this.editVisible=!1}},watch:{async editVisible(){await this.getWorkingTimesUser()}}};const Nt=(0,_.Z)($t,[["render",Et],["__scopeId","data-v-98981402"]]);var Lt=Nt;const Bt=t=>((0,n.dD)("data-v-228e1958"),t=t(),(0,n.Cn)(),t),Jt={class:"dashboard-container"},Yt=Bt((()=>(0,n._)("div",{class:"menu-title-container"},[(0,n._)("div",{class:"greeting-card"},[(0,n._)("h1",{class:"menu-title"},"Dashboard")])],-1))),Ht={class:"nav-dashboard"},Pt=Bt((()=>(0,n._)("button",{class:"app-button"}," All ",-1))),Gt=Bt((()=>(0,n._)("button",{class:"app-button"}," Week ",-1))),Zt=Bt((()=>(0,n._)("button",{class:"app-button"}," Year ",-1))),Rt=Bt((()=>(0,n._)("button",{class:"app-button"}," Day ",-1)));function qt(t,e,s,a,o,i){const r=(0,n.up)("router-link"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",Jt,[Yt,(0,n._)("div",Ht,[(0,n.Wm)(r,{to:{path:`/${t.path}/${t.idToGo}`}},{default:(0,n.w5)((()=>[Pt])),_:1},8,["to"]),(0,n.Wm)(r,{to:{path:`/${t.path}/${t.idToGo}/bar`}},{default:(0,n.w5)((()=>[Gt])),_:1},8,["to"]),(0,n.Wm)(r,{to:{path:`/${t.path}/${t.idToGo}/line`}},{default:(0,n.w5)((()=>[Zt])),_:1},8,["to"]),(0,n.Wm)(r,{to:{path:`/${t.path}/${t.idToGo}/doughnut`}},{default:(0,n.w5)((()=>[Rt])),_:1},8,["to"])]),(0,n.Wm)(l)])}var Kt={data:function(){return{userID:JSON.parse(localStorage.session).id,user:!1,team:!1,path:"",idToGo:-1}},mounted(){this.getFunction()},methods:{getFunction:function(){const t=this.$route.params.userID,e=this.$route.params.teamID;void 0!==t?(this.path="chart_manager",this.idToGo=t):(this.path="chart_managerTeam",this.idToGo=e)}}};const Qt=(0,_.Z)(Kt,[["render",qt],["__scopeId","data-v-228e1958"]]);var Xt=Qt;const te={class:"row"},ee={class:"col s4"},se={class:"col s4"},ae={class:"col s4"};function ne(t,e,s,o,i,r){const l=(0,n.up)("Bar"),c=(0,n.up)("Line"),d=(0,n.up)("Doughnut");return(0,n.wg)(),(0,n.iD)("div",te,[(0,n.wy)((0,n._)("input",{style:{color:"white"},"onUpdate:modelValue":e[0]||(e[0]=e=>t.newrole=e),placeholder:"Nouveau Role"},null,512),[[a.nr,t.newrole]]),(0,n._)("div",ee,[(0,n.Wm)(l,{"greeting-message":"hello"})]),(0,n._)("div",se,[(0,n.Wm)(c)]),(0,n._)("div",ae,[(0,n.Wm)(d)])])}const oe=t=>((0,n.dD)("data-v-50565902"),t=t(),(0,n.Cn)(),t),ie={class:"card-chart card"},re={class:"card-chart card-content"},le={class:"row"},ce={class:"col s12"},de={class:"chart-card-title"},he={class:"chart-card-info"},ue={class:"bar-week-nav"},me={class:""},pe=oe((()=>(0,n._)("svg",{viewBox:"0 0 492 492"},[(0,n._)("path",{d:"M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12\n                      C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084\n                      c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864\n                      l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z"})],-1))),ge=[pe],fe={class:""},ve={class:"chart-card-title"},we={class:""},ye={viewBox:"0 0 492.004 492.004",style:{"enable-background":"new 0 0 492.004 492.004"}},be=oe((()=>(0,n._)("path",{d:"M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12\n                  c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028\n                  c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265\n                  c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"},null,-1))),ke=[be],_e={class:"bar-chart-container"};function je(t,e,s,a,o,i){const r=(0,n.up)("Bar",!0);return(0,n.wg)(),(0,n.iD)("div",ie,[(0,n._)("div",re,[(0,n._)("div",le,[(0,n._)("div",ce,[(0,n._)("h4",null,(0,D.zw)(s.greetingMessage),1),(0,n._)("h3",de,"Week Working time ("+(0,D.zw)(t.contract)+" hours contract)",1),(0,n._)("span",he,"Total: "+(0,D.zw)(t.totalWeekWorkTime)+" hours",1)])]),(0,n._)("div",ue,[(0,n._)("div",me,[(0,n._)("button",{class:"app-button",onClick:e[0]||(e[0]=(...t)=>i.getPreviousWeek&&i.getPreviousWeek(...t))},ge)]),(0,n._)("div",fe,[(0,n._)("span",ve,(0,D.zw)(t.startShow)+" - "+(0,D.zw)(t.endShow),1)]),(0,n._)("div",we,[(0,n._)("button",{class:"app-button",onClick:e[1]||(e[1]=(...t)=>i.getNextWeek&&i.getNextWeek(...t))},[((0,n.wg)(),(0,n.iD)("svg",ye,ke))])])]),(0,n._)("div",_e,[t.loaded?((0,n.wg)(),(0,n.j4)(r,{key:0,"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":s.chartId,"dataset-id-key":s.datasetIdKey,plugins:s.plugins,"css-classes":s.cssClasses,styles:s.styles,width:s.width,height:s.height},null,8,["chart-options","chart-data","chart-id","dataset-id-key","plugins","css-classes","styles","width","height"])):(0,n.kq)("",!0)])])])}var Te=s(6294),De=s(741),Se=s(2864),Ue=s.n(Se);const We="Europe/Amsterdam";var Ce={convertLocalToGMT:function(t,e,s){if(console.log("iso : ",t),!0===s)a=new Date(t),a.setHours(1,0,0),a=a.toISOString();else if(!1===s)a=new Date(t),a.setDate(a.getDate()+1),a.setHours(0,59,59),a=a.toISOString();else{var a=new Date;a=new Date(t).toISOString(),console.log("isoDate undefined  :",a)}return console.log("isoDate  :",a,s),e?a.toString():a.toString().replace("."+a.toString().split(".")[1],"Z")},getWeekList:function(t){let e=[[],[],[],[],[],[],[]];if(t)for(const s of t){let t=new Date(s.start);t=t.getDay(),e[t].push(s)}return e},getMonthList:function(t){let e=[[],[],[],[],[],[],[],[],[],[],[],[]];for(const s of t){let t=new Date(s.start);t=t.getMonth(),e[t].push(s)}return e},getDaysList:function(t){let e=[];const s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];for(let a=0;a<7;a++){let n=new Date(t);n.setDate(n.getDate()+a),n=Ue()(n).tz(We).format(),e.push(s[a]+", "+n.split("T")[0])}return e},getWeekWorkTime:function(t){const e=this.getWeekList(t);let s=[],a=0;for(let o=0;o<e.length;o++){s[o]=0;for(const t of e[o]){let e=new Date(t.start),a=new Date(t.end),n=a-e;s[o]=s[o]+n}s[o]=s[o]/36e5}const n=s[0];for(let o=1;o<s.length;o++)s[o-1]=s[o],a+=s[o];return s[6]=n,a=(a+n).toFixed(1),s=s.map((t=>t.toFixed(1))),{weekWorkTimeByDay:s,totalWeekWorkTime:a}},getThisWeekLimits:function(){let t=new Date,e=t.getDay(),s=new Date,a=new Date;0==e?s.setDate(s.getDate()-6):(s.setDate(s.getDate()-e+1),a.setDate(t.getDate()+6-e+1)),s.setHours(0,0,0,0),a.setHours(23,59,59,0),s=Ue()(s).tz(We).format(),a=Ue()(a).tz(We).format();const n=this.convertLocalToGMT(s,!1,!0),o=this.convertLocalToGMT(a,!1,!1);return s=s.split("T")[0]+" "+s.split("T")[1].slice(0,8),a=a.split("T")[0]+" "+a.split("T")[1].slice(0,8),{start:s,end:a,utcStart:n,utcEnd:o}},getThisYearLimits:function(){let t=new Date,e=t.getFullYear(),s=new Date(e,0,1),a=new Date(e,11,31);a.setHours(23,59,59,0),s=Ue()(s).tz(We).format(),a=Ue()(a).tz(We).format();const n=this.convertLocalToGMT(s,!1,!0),o=this.convertLocalToGMT(a,!1,!1);return s=s.slice(0,19)+"Z",{startThisYear:s,endThisYear:a,utcStartThisYear:n,utcEndThisYear:o}},getDayLimits:function(){let t=new Date,e=t.setHours(0,0,0,0),s=t.setHours(23,59,59,0);e=Ue()(e).tz(We).format(),s=Ue()(s).tz(We).format();const a=this.convertLocalToGMT(e,!1,!0),n=this.convertLocalToGMT(s,!1,!1);return e=e.split("T")[0]+" "+e.split("T")[1].slice(0,8),s=s.split("T")[0]+" "+s.split("T")[1].slice(0,8),console.log("start :",a),console.log("end :",n),{start:e,end:s,utcStart:a,utcEnd:n}},addDays:function(t,e){let s=new Date(t);return s.setDate(s.getDate()+e),s=Ue()(s).tz(We).format(),s=s.split("T")[0]+" "+s.split("T")[1].slice(0,8),this.convertLocalToGMT(s,!1)},isSameDate(t,e){const s=t.getDate(),a=t.getMonth(),n=t.getFullYear(),o=e.getDate(),i=e.getMonth(),r=e.getFullYear();return s===o&&a===i&&n===r},getDayStartTimes(t){let e=[],s=[];for(const a of t)e.includes(a.start)||e.push(a.start);e=e.sort(),s.push(e[0]);for(let a=1;a<e.length;a++){const t=new Date(e[a-1]),n=new Date(e[a]);this.isSameDate(t,n)?n<t&&(s[a-1]=e[a]):s.push(e[a]),s=s.sort()}return s},getDayEndTimes(t){let e=[],s=[];for(const a of t)e.includes(a.end)||e.push(a.end);e=e.sort(),s.push(e[0]);for(let a=1;a<e.length;a++){const t=new Date(e[a-1]),n=new Date(e[a]);this.isSameDate(t,n)?n>t&&(s[a-1]=e[a]):s.push(e[a])}return s},getWorkingTimeByMonth:function(t){const e=this.getMonthList(t);let s=[],a=0;for(let n=0;n<e.length;n++){s[n]=0;for(const t of e[n]){let e=new Date(t.start),a=new Date(t.end),o=a-e;s[n]=s[n]+o}s[n]=s[n]/36e5/7}for(const n of s)a+=n;return a=a.toFixed(1),s=s.map((t=>t.toFixed(1))),{weekWorkTimeByMonth:s,totalYearTime:a}},getDayStats:function(t){let e=0,s=0,a=0,n=new Date(t[0].end),o=new Date(t[0].start);for(const r of t){let t=new Date(r.start),e=new Date(r.end);t<=o&&(o=t),e>=n&&(n=e)}for(const r of t){let t=new Date(r.start),e=new Date(r.end),s=e-t;a+=s}let i=n-o;return i/=36e5,a/=36e5,s=i-a,e=24-i,{work:a,off:e,break:s}},timezone:We};De.kL.register(De.Dx,De.u,De.De,De.ZL,De.uw,De.f$);var ze={props:{greetingMessage:String},name:"BarChart",components:{Bar:Te.$Q},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Object,default:()=>{}},options:{legend:{display:!1}}},data:()=>({loaded:!1,chartData:null,startShow:null,endShow:null,weekWorkingTime:null,totalWeekWorkTime:null,labelsDates:null,startV:null,endV:null,colorWeek:"blue",contract:35}),methods:{async getPreviousWeek(){this.startV=Ce.addDays(this.startV,-7),this.endV=Ce.addDays(this.endV,-7),await this.show(this.startV,this.endV)},async getNextWeek(){this.startV=Ce.addDays(this.startV,7),this.endV=Ce.addDays(this.endV,7),await this.show(this.startV,this.endV)},async show(t,e){const s=this.$route.params.userID,a=this.$route.params.teamID;if(console.log("user id : ",this.$route.params.userID),void 0!==s){const a=await Ft.getAllWorkingTimesUser(s,t,e),n=Ce.getWeekWorkTime(a.content);this.weekWorkingTime=n.weekWorkTimeByDay,this.totalWeekWorkTime=n.totalWeekWorkTime,this.totalWeekWorkTime<35?this.colorWeek="red-text":this.colorWeek="green-text",this.startShow=t.slice(0,10),this.endShow=e.slice(0,10),this.labelsDates=Ce.getDaysList(t),this.chartData={labels:this.labelsDates,datasets:[{data:this.weekWorkingTime,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(20, 222, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}}else if(null!==a){const s=await Ft.retrieveWorkingTimeByTeam(a,t,e),n=Ce.getWeekWorkTime(s.content);this.weekWorkingTime=n.weekWorkTimeByDay,this.totalWeekWorkTime=n.totalWeekWorkTime,this.totalWeekWorkTime<35?this.colorWeek="red-text":this.colorWeek="green-text",this.startShow=t.slice(0,10),this.endShow=e.slice(0,10),this.labelsDates=Ce.getDaysList(t),this.chartData={labels:this.labelsDates,datasets:[{data:this.weekWorkingTime,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(20, 222, 207, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"],borderWidth:1}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}}}},async mounted(){console.log("title : ",greetingMessage),this.loaded=!1;try{const t=Ce.getThisWeekLimits();this.startV=t.utcStart,this.endV=t.utcEnd,await this.show(this.startV,this.endV),this.timer=setInterval((()=>{this.show(this.startV,this.endV)}),6e4),this.loaded=!0}catch(t){console.error(t)}},beforeUnmount(){clearInterval(this.timer)}};const xe=(0,_.Z)(ze,[["render",je],["__scopeId","data-v-50565902"]]);var Oe=xe;const Ve=t=>((0,n.dD)("data-v-0dcfdeb6"),t=t(),(0,n.Cn)(),t),Ie={class:"card-chart card"},Me={class:"card-chart card-content"},Ae={class:"row"},Ee={class:"col s12"},Fe=Ve((()=>(0,n._)("h3",{class:"chart-card-title"},"Year Working time",-1))),$e={class:"chart-card-info"},Ne={class:"bar-chart-container"};function Le(t,e,s,a,o,i){const r=(0,n.up)("Line",!0);return(0,n.wg)(),(0,n.iD)("div",Ie,[(0,n._)("div",Me,[(0,n._)("div",Ae,[(0,n._)("div",Ee,[Fe,(0,n._)("span",$e,"Total: "+(0,D.zw)(t.totalYearWorkTime)+" days (7h) ",1)])]),(0,n._)("div",Ne,[t.loaded?((0,n.wg)(),(0,n.j4)(r,{key:0,chartOptions:t.chartOptions,chartData:t.chartData,chartId:s.chartId,width:s.width,height:s.height,cssClasses:s.cssClasses,styles:s.styles,plugins:s.plugins},null,8,["chartOptions","chartData","chartId","width","height","cssClasses","styles","plugins"])):(0,n.kq)("",!0)])])])}De.kL.register(De.Dx,De.u,De.De,De.jn,De.f$,De.od,De.uw);var Be={name:"LineChart",components:{Line:Te.x1},props:{chartId:{type:String,default:"line-chart"},width:{type:Number,default:470},height:{type:Number,default:200},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>{}}},data:()=>({loaded:!1,chartData:null,startShow:null,endShow:null,totalYearWorkTime:null,labelsDates:null,startV:null,endV:null}),methods:{async showYear(t,e){const s=this.$route.params.userID,a=this.$route.params.teamID;if(void 0!==s){const a=await Ft.getAllWorkingTimesUser(s,t,e),n=Ce.getWorkingTimeByMonth(a.content);this.graphData=n.weekWorkTimeByMonth,this.totalYearWorkTime=n.totalYearTime,this.year=new Date(t).getFullYear(),this.labels=["January","February","March","April","May","June","July","August","September","October","November","December"]}else{const s=await Ft.retrieveWorkingTimeByTeam(a,t,e),n=Ce.getWorkingTimeByMonth(s.content);this.graphData=n.weekWorkTimeByMonth,this.totalYearWorkTime=n.totalYearTime,this.year=new Date(t).getFullYear(),this.labels=["January","February","March","April","May","June","July","August","September","October","November","December"]}},async showMonth(t){}},async mounted(){this.loaded=!1;try{const t=Ce.getThisYearLimits();console.log("limit : ",t.startThisYear),console.log("limit2 : ",t.utcStartThisYear),this.startV=t.startThisYear,this.endV=t.utcEndThisYear,await this.showYear(this.startV,this.endV),this.chartData={labels:this.labels,datasets:[{label:"Data One",backgroundColor:"#f87979",data:this.graphData}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},this.loaded=!0}catch(t){console.error(t)}},beforeUnmount(){clearInterval(this.timer)}};const Je=(0,_.Z)(Be,[["render",Le],["__scopeId","data-v-0dcfdeb6"]]);var Ye=Je;const He=t=>((0,n.dD)("data-v-1651840f"),t=t(),(0,n.Cn)(),t),Pe={class:"card-chart card"},Ge={class:"card-chart card-content"},Ze={class:"row"},Re={class:"col s12"},qe=He((()=>(0,n._)("h3",{class:"chart-card-title"},"Day Working time",-1))),Ke={class:"chart-card-info"},Qe={class:"donught-date-container"},Xe={class:"bar-chart-container"};function ts(t,e,s,o,i,r){const l=(0,n.up)("Doughnut",!0);return(0,n.wg)(),(0,n.iD)("div",Pe,[(0,n._)("div",Ge,[(0,n._)("div",Ze,[(0,n._)("div",Re,[qe,(0,n._)("span",Ke,(0,D.zw)(t.dayShow),1)])]),(0,n._)("div",Qe,[(0,n._)("button",{class:"app-button",onClick:e[0]||(e[0]=(...t)=>r.changeDay&&r.changeDay(...t))},"Change date"),(0,n.wy)((0,n._)("input",{class:"date-input",type:"date","onUpdate:modelValue":e[1]||(e[1]=e=>t.day=e)},null,512),[[a.nr,t.day]])]),(0,n._)("div",Xe,[t.loaded?((0,n.wg)(),(0,n.j4)(l,{key:0,chartData:t.chartData,chartOptions:t.chartOptions,chartId:s.chartId,width:s.width,height:s.height,cssClasses:s.cssClasses,styles:s.styles,plugins:s.plugins},null,8,["chartData","chartOptions","chartId","width","height","cssClasses","styles","plugins"])):(0,n.kq)("",!0)])])])}De.kL.register(De.Dx,De.u,De.De,De.qi,De.uw);var es={name:"DoughnutChart",components:{Doughnut:Te.$I},props:{chartId:{type:String,default:"doughnut-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},data:()=>({loaded:!1,chartData:null,startV:null,endV:null,dayShow:null,day:null,break:null,work:null,off:null}),methods:{async changeDay(){this.dayShow=this.day,this.day?(this.startV=Ce.convertLocalToGMT(Ue()(this.day+"T00:00:00").tz(Ce.timezone).format(),!1,!0),this.endV=Ce.convertLocalToGMT(Ue()(this.day+"T23:59:59").tz(Ce.timezone).format(),!1,!1),await this.show(this.startV,this.endV)):window.alert("Please enter a valid date")},async show(t,e){const s=this.$route.params.userID,a=this.$route.params.teamID;if(void 0!==s){const a=await Ft.getAllWorkingTimesUser(s,t,e);if(a.success){const t=Ce.getDayStats(a.content);this.break=t.break.toFixed(1),this.work=t.work.toFixed(1),this.off=t.off.toFixed(1),this.chartData={labels:["Working","Break","Off"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF"],data:[this.work,this.break,this.off]}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1}}else this.break=0,this.work=0,this.off=0,this.chartData={labels:["Working","Break","Off"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF"],data:[this.work,this.break,this.off]}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1}}else{const s=await Ft.retrieveWorkingTimeByTeam(a,t,e);if(console.log("time : ",t," end : ",e),console.log("res",s),s.success){const t=Ce.getDayStats(s.content);this.break=t.break.toFixed(1),this.work=t.work.toFixed(1),this.off=t.off.toFixed(1),this.chartData={labels:["Working","Break","Off"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF"],data:[this.work,this.break,this.off]}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1}}else this.break=0,this.work=0,this.off=0,this.chartData={labels:["Working","Break","Off"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF"],data:[this.work,this.break,this.off]}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1}}}},async mounted(){this.loaded=!1;try{const t=new Date,e=Ce.getDayLimits();this.dayShow=Ue()(t).tz(Ce.timezone).format(),this.dayShow=this.dayShow.split("T")[0],this.startV=e.utcStart,this.endV=e.utcEnd,await this.show(this.startV,this.endV),this.timer=setInterval((()=>{this.show(this.startV,this.endV)}),6e4),this.loaded=!0}catch(t){console.log(t)}}};const ss=(0,_.Z)(es,[["render",ts],["__scopeId","data-v-1651840f"]]);var as=ss,ns={components:{Bar:Oe,Line:Ye,Doughnut:as},data:()=>({newrole:""}),mounted(){}};const os=(0,_.Z)(ns,[["render",ne]]);var is=os;const rs=t=>((0,n.dD)("data-v-2904dae3"),t=t(),(0,n.Cn)(),t),ls={style:{color:"black"}},cs=rs((()=>(0,n._)("h2",{class:"h2",style:{color:"white"}},"Manager View",-1))),ds={style:{color:"white"}},hs=rs((()=>(0,n._)("br",null,null,-1))),us=rs((()=>(0,n._)("button",{class:"app-button"}," All ",-1))),ms={style:{"background-color":"white",color:"black"}},ps=rs((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{"text-align":"center"}}," username "),(0,n._)("th",{style:{"text-align":"center"}}," email "),(0,n._)("th",{style:{"text-align":"center"}}," voir le workingtime "),(0,n._)("th",{style:{"text-align":"center"}}," Voir le dashboard "),(0,n._)("th",{style:{"text-align":"center"}}," Delete from team ")])],-1))),gs={style:{"text-align":"center"}},fs={style:{"text-align":"center"}},vs={style:{"text-align":"center"}},ws=rs((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),ys={style:{"text-align":"center"}},bs=rs((()=>(0,n._)("button",{class:"card-menu-button"},"Go to",-1))),ks={style:{"text-align":"center"}},_s=["onClick"],js={style:{"background-color":"white",color:"black"}},Ts=rs((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{"text-align":"center"}}," username "),(0,n._)("th",{style:{"text-align":"center"}}," email "),(0,n._)("th",{style:{"text-align":"center"}}," Add in team ")])],-1))),Ds={style:{"text-align":"center"}},Ss={style:{"text-align":"center"}},Us=["onClick"],Ws=rs((()=>(0,n._)("button",null,"Add",-1))),Cs=[Ws];function zs(t,e,s,o,i,r){const l=(0,n.up)("router-link"),c=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.iD)("div",ls,[cs,(0,n.wy)((0,n._)("input",{style:{color:"white"},"onUpdate:modelValue":e[0]||(e[0]=t=>i.newteam=t),placeholder:"Nouvelle Equipe"},null,512),[[a.nr,i.newteam]]),(0,n._)("button",{onClick:e[1]||(e[1]=t=>r.addTeam())},"Ajouter une nouvelle équipe"),(0,n._)("div",ds,[(0,n.Uk)(" Liste des équipes : "),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.teams,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id},[(0,n.Uk)((0,D.zw)(t.team_name)+" ",1),hs,(0,n.Wm)(l,{to:{path:`/chart_managerTeam/${t.id}`}},{default:(0,n.w5)((()=>[us])),_:2},1032,["to"]),(0,n.Uk)(" Membre de l'equipe : "),(0,n._)("table",ms,[ps,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.l1,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id,style:{"border-style":"solid"}},[(0,n._)("td",gs,(0,D.zw)(e.username),1),(0,n._)("td",fs,(0,D.zw)(e.username),1),(0,n._)("td",vs,[(0,n.Wm)(c,{to:"/working_times/"+e.id},{default:(0,n.w5)((()=>[ws])),_:2},1032,["to"])]),(0,n._)("td",ys,[(0,n.Wm)(c,{to:"/chart_manager/"+e.id},{default:(0,n.w5)((()=>[bs])),_:2},1032,["to"])]),(0,n._)("td",ks,[(0,n._)("button",{onClick:s=>r.deleteInTeam(e.id,t.id)},"Delete",8,_s)])])))),128))])]),(0,n.Uk)(" Utilisateurs "),(0,n._)("table",js,[Ts,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.l2,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id,style:{"border-style":"solid"}},[(0,n._)("td",Ds,(0,D.zw)(e.username),1),(0,n._)("td",Ss,(0,D.zw)(e.username),1),(0,n._)("td",{style:{"text-align":"center"},onClick:s=>r.addMemberInTeam(e.id,t.id)},Cs,8,Us)])))),128))])])])))),128))])])}var xs={getAllUsers:async function(){const t=await fetch("http://localhost:4001/api/users",{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return t.json()},getOneUser:async function(t){const e=await fetch(`http://localhost:4001/api/users/${t}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return e.json()},createUser:async function(t){const e=await fetch("http://localhost:4001/api/users",{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});return e.json()},updateUser:async function(t,e){const s=await fetch(`http://localhost:4001/api/users/${t}`,{method:"PUT",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)});return s.json()},deleteUser:async function(t){const e=await fetch(`http://localhost:4001/api/users/${t}`,{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return e.json()},getUserByEmailAndUsername:async function(t,e){const s=await fetch(`http://localhost:4001/api/users?email=${t}&username=${e}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return s.json()},getRoles:async function(){const t=await fetch("http://localhost:4001/api/roles",{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return t.json()},getUserTeams:async function(t){const e=await fetch(`http://localhost:4001/api/teams/${t}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return e.json()},getUsersInTeam:async function(t){const e=await fetch(`http://localhost:4001/api/teamMember/${t}`,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return e.json()},createTeam:async function(t,e){const s=await fetch(`http://localhost:4001/api/teams/${t}`,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({team_name:e})});return s.json()},addMemberInTeam:async function(t,e){const s=await fetch(`http://localhost:4001/api/teamMember/${t}/${e}`,{method:"POST",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return s.json()},deleteUserInTeam:async function(t,e){const s=await fetch(`http://localhost:4001/api/teamMember/${e}`,{method:"DELETE",mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}});return s.json()}};var Os={data(){return{session:{active:!1,id:null,username:"",email:""},newteam:"",users:[],roles:[],teams:[]}},async created(){this.session=JSON.parse(localStorage.session);var t=await xs.getAllUsers();this.users=t.content;var e=await xs.getRoles();this.roles=e.content,this.getTeams()},components:{},computed:{},watch:{},mounted(){},methods:{getTeams:async function(){var t=await xs.getUserTeams(this.session.id);this.teams=t.content,this.teams.forEach((async t=>{var e=await xs.getUsersInTeam(t.id);t["members"]=e.content,t["users"]=this.users,t["l1"]=[],t["l2"]=[],void 0!==t["members"]&&t["users"].forEach((e=>{for(var s=!1,a=0;a<t["members"].length;a++)t["members"][a].user===e.id&&(s=!0);s?t["l1"].push(e):t["l2"].push(e)})).then((t=>t.json())).then((t=>{this.teams=t.content})).then((()=>{this.teams!==[]&&null!==this.team&&this.teams.forEach((t=>{fetch("http://localhost:4001/api/teamMember/"+t.id,{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((e=>{t["members"]=e.content,t["users"]=this.users,t["l1"]=[],t["l2"]=[],console.log("id team :",t.team_name),void 0!==t["members"]?t["users"].forEach((e=>{for(var s=!1,a=0;a<t["members"].length;a++)t["members"][a].user===e.id&&(s=!0);s?t["l1"].push(e):t["l2"].push(e)})):t["l2"]=t["users"]}))}))})).then((()=>{this.teams.forEach((t=>{console.log(t)}))}))}))},addTeam:function(){xs.createTeam(this.session.id,this.newteam),this.getTeams()},addMemberInTeam:function(t,e){xs.addMemberInTeam(t,e),this.getTeams()},deleteInTeam:function(t,e){xs.deleteUserInTeam(t,e)}}};const Vs=(0,_.Z)(Os,[["render",zs],["__scopeId","data-v-2904dae3"]]);var Is=Vs;const Ms={style:{color:"black"}},As=(0,n._)("h2",{class:"h2",style:{color:"white"}},"Admin View",-1),Es={style:{"background-color":"white"}},Fs=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{"text-align":"center"}}," ID "),(0,n._)("th",{style:{"text-align":"center"}}," Username "),(0,n._)("th",{style:{"text-align":"center"}}," Email "),(0,n._)("th",null," Roles "),(0,n._)("th",null," Voir WorkingTime "),(0,n._)("th",null," Save ")])],-1),$s={style:{"text-align":"center"}},Ns={style:{"text-align":"center"}},Ls={style:{"text-align":"center"}},Bs=["onUpdate:modelValue"],Js=["value"],Ys=(0,n._)("button",{class:"card-menu-button"},"Go to",-1),Hs=["onClick"],Ps={style:{"margin-top":"25%"}},Gs={style:{"background-color":"white"}},Zs=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{style:{"text-align":"center"}}," ID "),(0,n._)("th",{style:{"text-align":"center"}}," role_name ")])],-1),Rs={style:{"text-align":"center"}},qs={style:{"text-align":"center"}};function Ks(t,e,s,o,i,r){const l=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Ms,[As,(0,n._)("table",Es,[Fs,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.users,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.username,style:{"border-style":"solid"}},[(0,n._)("td",$s,(0,D.zw)(t.id),1),(0,n._)("td",Ns,(0,D.zw)(t.username),1),(0,n._)("td",Ls,(0,D.zw)(t.email),1),(0,n._)("td",null,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e=>t.role_id=e,style:{display:"block"}},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.roles,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.id},(0,D.zw)(t.role_name),9,Js)))),256))],8,Bs),[[a.bM,t.role_id]])]),(0,n.Wm)(l,{to:"/working_times/"+t.id},{default:(0,n.w5)((()=>[Ys])),_:2},1032,["to"]),(0,n._)("td",null,[(0,n._)("button",{class:"card-menu-button",onClick:e=>{r.modifyUser(t)}},"Edit",8,Hs)])])))),128))])]),(0,n._)("div",Ps,[(0,n._)("table",Gs,[Zs,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.roles,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.role_name,style:{"border-style":"solid"}},[(0,n._)("td",Rs,(0,D.zw)(t.id),1),(0,n._)("td",qs,(0,D.zw)(t.role_name),1)])))),128))])])])]),(0,n.wy)((0,n._)("input",{style:{color:"white"},"onUpdate:modelValue":e[0]||(e[0]=t=>i.newrole=t),placeholder:"Nouveau Role"},null,512),[[a.nr,i.newrole]]),(0,n._)("button",{onClick:e[1]||(e[1]=t=>r.addRoles())},"Ajouter un nouveau role")],64)}var Qs={data(){return{users:[],roles:[],newrole:"",selected:""}},components:{},computed:{},watch:{},mounted(){this.getUsers(),this.getRoles()},methods:{getUsers:function(){fetch("http://localhost:4001/api/users",{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{console.log("users : ",t),this.users=t.content}))},getRoles:function(){fetch("http://localhost:4001/api/roles",{mode:"cors",headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{console.log("roles :  : ",t),this.roles=t.content}))},addRoles:function(){fetch("http://localhost:4001/api/roles",{method:"POST",mode:"cors",body:JSON.stringify({role_name:this.newrole}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{console.log("newrole : ",t)}))},modifyUser:function(t){console.log(t.role_id),fetch("http://localhost:4001/api/users/"+t.id,{method:"PUT",mode:"cors",body:JSON.stringify({role_id:t.role_id}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((t=>t.json())).then((t=>{console.log("newrole : ",t)}))}}};const Xs=(0,_.Z)(Qs,[["render",Ks]]);var ta=Xs,ea=s(5860);const sa=(0,ea.RN)({position:"top-right"}),aa=(0,i.p7)({history:(0,i.PO)({VUE_APP_API_URL:"http://localhost:4001/api",NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BASE_URL),base:"/",routes:[{path:"/",name:"login",component:T},{path:"/home",name:"home",component:et},{path:"/working_times/:userID",name:"working_times",component:Lt},{path:"/chart_manager/:userID",name:"chart_manager",component:Xt,children:[{path:"",component:is},{path:"bar",component:Oe},{path:"line",component:Ye},{path:"doughnut",component:as}]},{path:"/chart_managerTeam/:teamID",name:"chart_managerTeam",component:Xt,children:[{path:"",component:is},{path:"bar",component:Oe,name:"bar"},{path:"line",component:Ye,name:"line"},{path:"doughnut",component:as,name:"doughnut"}]},{path:"/users/:userID",component:gt,name:"users/:userID"},{path:"/adminView",name:"adminView",component:ta,droitsAdmin:!0,droitsManager:!1},{path:"/managerView",name:"managerView",component:Is,droitsAdmin:!0,droitsManager:!0}]});aa.beforeEach((async(t,e)=>{const s=localStorage.session?localStorage.session:null,a=!!s&&JSON.parse(s).active,n=!!s&&JSON.parse(s).isAuthoriseAdmin,o=!!s&&JSON.parse(s).isAuthoriseManager,i=s?parseInt(JSON.parse(s).id):-1;return console.log("isconnected: ",a),console.log("to ",t),a&&"login"===t.name?{name:"home"}:a||"login"===t.name?a&&"login"===t.name?{name:"home"}:("working_times"!==t.name||parseInt(t.params.userID)===i||o)&&("chart_manager"!==t.name||parseInt(t.params.userID)===i||o)?a&&"adminView"===t.name&&!0!==n||a&&"managerView"===t.name&&!0!==o||a&&"chart_managerTeam"===t.name&&!0!==o?{name:"home"}:void 0:(sa.error("Access not autorized !"),{name:"home"}):{name:"login"}}));var na=aa;const oa=t=>((0,n.dD)("data-v-5d95c0f5"),t=t(),(0,n.Cn)(),t),ia={class:"navbar",role:"navigation"},ra=oa((()=>(0,n._)("div",{class:"navbar-logo-container"},[(0,n._)("img",{class:"navbar-logo",src:r})],-1))),la={class:"navbar-menu-container"},ca={key:0,class:"navbar-menu-list"},da={class:"navbar-menu-item"},ha=oa((()=>(0,n._)("svg",{viewBox:"0 0 24 24"},[(0,n._)("path",{"clip-rule":"evenodd",d:"m14.0138 4.04532c-1.1807-.93217-2.8469-.93217-4.02764 0l-5.5 4.34211c-.78069.61633-1.23616 1.55622-1.23616 2.55087v6.5616c0 1.7949 1.45507 3.25 3.25 3.25h1.5c.13807 0 .25-.1119.25-.25v-3c0-1.5188 1.23122-2.75 2.75-2.75h2c1.5188 0 2.75 1.2312 2.75 2.75v3c0 .1381.1119.25.25.25h1.5c1.7949 0 3.25-1.4551 3.25-3.25v-6.5616c0-.99465-.4555-1.93454-1.2362-2.55087zm-4.95711-1.17732c1.72571-1.36241 4.16091-1.36241 5.88661 0l5.5 4.34211c1.141.90079 1.8067 2.27447 1.8067 3.72819v6.5616c0 2.6233-2.1266 4.75-4.75 4.75h-1.5c-.9665 0-1.75-.7835-1.75-1.75v-3c0-.6904-.5596-1.25-1.25-1.25h-2c-.6904 0-1.25.5596-1.25 1.25v3c0 .9665-.7835 1.75-1.75 1.75h-1.5c-2.62335 0-4.75-2.1267-4.75-4.75v-6.5616c0-1.45372.66569-2.8274 1.80669-3.7282z","fill-rule":"evenodd"})],-1))),ua={class:"navbar-menu-item"},ma=oa((()=>(0,n._)("svg",{viewBox:"0 0 32 32"},[(0,n._)("g",null,[(0,n._)("path",{d:"m17 6.5c0-.55228-.4477-1-1-1s-1 .44772-1 1v4.5c0 .3038.1381.5911.3753.7809l2.5 2c.4313.345 1.0606.2751 1.4056-.1562s.2751-1.0606-.1562-1.4056l-2.1247-1.6997z"}),(0,n._)("path",{"clip-rule":"evenodd",d:"m7 11c0-4.97056 4.0294-9 9-9s9 4.02944 9 9c0 4.9706-4.0294 9-9 9s-9-4.0294-9-9zm9-7c-3.866 0-7 3.13401-7 7 0 3.866 3.134 7 7 7s7-3.134 7-7c0-3.86599-3.134-7-7-7z","fill-rule":"evenodd"}),(0,n._)("path",{d:"m6 25c-.55228 0-1 .4477-1 1s.44772 1 1 1h6c.5523 0 1-.4477 1-1s-.4477-1-1-1z"}),(0,n._)("path",{"clip-rule":"evenodd",d:"m6 22c-2.20914 0-4 1.7909-4 4s1.79086 4 4 4h20c2.2091 0 4-1.7909 4-4s-1.7909-4-4-4zm-2 4c0-1.1046.89543-2 2-2h20c1.1046 0 2 .8954 2 2s-.8954 2-2 2h-20c-1.10457 0-2-.8954-2-2z","fill-rule":"evenodd"})])],-1))),pa={class:"navbar-menu-item"},ga=oa((()=>(0,n._)("svg",{viewBox:"0 0 32 32"},[(0,n._)("g",{id:"Layer_7","data-name":"Layer 7"},[(0,n._)("path",{d:"m31.9336 19.4463a16.0029 16.0029 0 0 0 -15.9385-15.3672c-.1269 0-.2549.0015-.3818.0049a16.0378 16.0378 0 0 0 -15.5576 15.9394 15.7648 15.7648 0 0 0 1.8076 7.36 1 1 0 0 0 .8867.5376h26.5a.9988.9988 0 0 0 .8867-.5376 15.9623 15.9623 0 0 0 1.7969-7.9371zm-3.3047 6.4746h-25.2589a13.7635 13.7635 0 0 1 -1.3144-5.8975 14.0264 14.0264 0 0 1 13.6044-13.9404c.1064-.0024.2119-.0034.3173-.0034a14.1766 14.1766 0 0 1 13.958 13.438 13.9591 13.9591 0 0 1 -1.3064 6.4033z"}),(0,n._)("path",{d:"m22.0566 11.5952-8.6211 4.9258a3.6953 3.6953 0 0 0 -.8564 5.916 3.697 3.697 0 0 0 5.916-.8574l4.9258-8.6196a1 1 0 0 0 -1.3643-1.3643zm-5.2978 8.9922a1.6993 1.6993 0 0 1 -2.7656.4355 1.698 1.698 0 0 1 .4345-2.7652l5.4375-3.1077z"})])],-1))),fa={class:"navbar-menu-item"},va=oa((()=>(0,n._)("svg",{viewBox:"-42 0 512 512.001"},[(0,n._)("path",{d:"m210.351562 246.632812c33.882813 0 63.21875-12.152343 87.195313-36.128906 23.96875-23.972656 36.125-53.304687 36.125-87.191406 0-33.875-12.152344-63.210938-36.128906-87.191406-23.976563-23.96875-53.3125-36.121094-87.191407-36.121094-33.886718 0-63.21875 12.152344-87.191406 36.125s-36.128906 53.308594-36.128906 87.1875c0 33.886719 12.15625 63.222656 36.128906 87.195312 23.980469 23.96875 53.316406 36.125 87.191406 36.125zm-65.972656-189.292968c18.394532-18.394532 39.972656-27.335938 65.972656-27.335938 25.996094 0 47.578126 8.941406 65.976563 27.335938 18.394531 18.398437 27.339844 39.980468 27.339844 65.972656 0 26-8.945313 47.578125-27.339844 65.976562-18.398437 18.398438-39.980469 27.339844-65.976563 27.339844-25.992187 0-47.570312-8.945312-65.972656-27.339844-18.398437-18.394531-27.34375-39.976562-27.34375-65.976562 0-25.992188 8.945313-47.574219 27.34375-65.972656zm0 0"}),(0,n._)("path",{d:"m426.128906 393.703125c-.691406-9.976563-2.089844-20.859375-4.148437-32.351563-2.078125-11.578124-4.753907-22.523437-7.957031-32.527343-3.3125-10.339844-7.808594-20.550781-13.375-30.335938-5.769532-10.15625-12.550782-19-20.160157-26.277343-7.957031-7.613282-17.699219-13.734376-28.964843-18.199219-11.226563-4.441407-23.667969-6.691407-36.976563-6.691407-5.226563 0-10.28125 2.144532-20.042969 8.5-6.007812 3.917969-13.035156 8.449219-20.878906 13.460938-6.707031 4.273438-15.792969 8.277344-27.015625 11.902344-10.949219 3.542968-22.066406 5.339844-33.042969 5.339844-10.96875 0-22.085937-1.796876-33.042968-5.339844-11.210938-3.621094-20.300782-7.625-26.996094-11.898438-7.769532-4.964844-14.800782-9.496094-20.898438-13.46875-9.753906-6.355468-14.808594-8.5-20.035156-8.5-13.3125 0-25.75 2.253906-36.972656 6.699219-11.257813 4.457031-21.003906 10.578125-28.96875 18.199219-7.609375 7.28125-14.390625 16.121094-20.15625 26.273437-5.558594 9.785157-10.058594 19.992188-13.371094 30.339844-3.199219 10.003906-5.875 20.945313-7.953125 32.523437-2.0625 11.476563-3.457031 22.363282-4.148437 32.363282-.679688 9.777344-1.023438 19.953125-1.023438 30.234375 0 26.726562 8.496094 48.363281 25.25 64.320312 16.546875 15.746094 38.4375 23.730469 65.066406 23.730469h246.53125c26.621094 0 48.511719-7.984375 65.0625-23.730469 16.757813-15.945312 25.253906-37.589843 25.253906-64.324219-.003906-10.316406-.351562-20.492187-1.035156-30.242187zm-44.90625 72.828125c-10.933594 10.40625-25.449218 15.464844-44.378906 15.464844h-246.527344c-18.933594 0-33.449218-5.058594-44.378906-15.460938-10.722656-10.207031-15.933594-24.140625-15.933594-42.585937 0-9.59375.316406-19.066407.949219-28.160157.617187-8.921874 1.878906-18.722656 3.75-29.136718 1.847656-10.285156 4.199219-19.9375 6.996094-28.675782 2.683593-8.378906 6.34375-16.675781 10.882812-24.667968 4.332031-7.617188 9.316407-14.152344 14.816407-19.417969 5.144531-4.925781 11.628906-8.957031 19.269531-11.980469 7.066406-2.796875 15.007812-4.328125 23.628906-4.558594 1.050781.558594 2.921875 1.625 5.953125 3.601563 6.167969 4.019531 13.277344 8.605469 21.136719 13.625 8.859375 5.648437 20.273437 10.75 33.910156 15.152344 13.941406 4.507812 28.160156 6.796875 42.273437 6.796875 14.113282 0 28.335938-2.289063 42.269532-6.792969 13.648437-4.410156 25.058594-9.507813 33.929687-15.164063 8.042969-5.140624 14.953125-9.59375 21.121094-13.617187 3.03125-1.972656 4.902344-3.042969 5.953125-3.601563 8.625.230469 16.566406 1.761719 23.636719 4.558594 7.636719 3.023438 14.121093 7.058594 19.265625 11.980469 5.5 5.261719 10.484375 11.796875 14.816406 19.421875 4.542969 7.988281 8.207031 16.289062 10.886719 24.660156 2.800781 8.75 5.15625 18.398438 7 28.675782 1.867187 10.433593 3.132812 20.238281 3.75 29.144531v.007812c.636719 9.058594.957031 18.527344.960937 28.148438-.003906 18.449219-5.214844 32.378906-15.9375 42.582031zm0 0"})],-1))),wa=oa((()=>(0,n._)("svg",{viewBox:"0 0 512 512","data-name":"Layer 1"},[(0,n._)("path",{d:"m363.335 488a24 24 0 0 1 -24 24h-226.253a80.09 80.09 0 0 1 -80-80v-352a80.09 80.09 0 0 1 80-80h226.253a24 24 0 0 1 0 48h-226.253a32.035 32.035 0 0 0 -32 32v352a32.034 32.034 0 0 0 32 32h226.253a24 24 0 0 1 24 24zm108.553-248.97-114.051-114.052a24 24 0 1 0 -33.937 33.941l73.077 73.081h-188.936a24 24 0 1 0 0 48h188.935l-73.08 73.08a24 24 0 1 0 33.941 33.941l114.051-114.05a24 24 0 0 0 0-33.941z"})],-1))),ya=[wa],ba={data(){return{user:{username:"",id:"",email:""},session:{active:!1,id:null,username:"",email:""}}},mounted(){localStorage.session?this.session=JSON.parse(localStorage.session):localStorage.session=JSON.stringify({...this.session})},watch:{$route(t,e){"login"===e.name&&"home"===t.name&&(this.session=JSON.parse(localStorage.session))}},methods:{unregisterUser:function(){const t={active:!1,id:null,username:"",email:""};localStorage.session=JSON.stringify(t),this.session=t,na.push("/")}}};var ka=Object.assign(ba,{__name:"Navbar",setup(t){return(t,e)=>((0,n.wg)(),(0,n.iD)("div",ia,[ra,(0,n._)("div",la,[t.session&&t.session.active?((0,n.wg)(),(0,n.iD)("ul",ca,[(0,n._)("li",da,[(0,n.Wm)((0,o.SU)(i.rH),{to:"/home"},{default:(0,n.w5)((()=>[ha])),_:1})]),(0,n._)("li",ua,[(0,n.Wm)((0,o.SU)(i.rH),{to:"/working_times/"+t.session.id},{default:(0,n.w5)((()=>[ma])),_:1},8,["to"])]),(0,n._)("li",pa,[(0,n.Wm)((0,o.SU)(i.rH),{to:"/chart_manager/"+t.session.id},{default:(0,n.w5)((()=>[ga])),_:1},8,["to"])]),(0,n._)("li",fa,[(0,n.Wm)((0,o.SU)(i.rH),{to:"/users/"+t.session.id},{default:(0,n.w5)((()=>[va])),_:1},8,["to"])])])):(0,n.kq)("",!0)]),t.session&&t.session.active?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"navbar-logout-container",role:"link",onClick:e[0]||(e[0]=e=>t.unregisterUser())},ya)):(0,n.kq)("",!0)]))}});const _a=(0,_.Z)(ka,[["__scopeId","data-v-5d95c0f5"]]);var ja=_a;const Ta={class:"header"},Da={class:"main-content"};var Sa={__name:"TimeManagerView",setup(t){return(t,e)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",Ta,[(0,n.Wm)(ja)]),(0,n._)("main",Da,[(0,n.Wm)((0,o.SU)(i.MA))])],64))}};const Ua=(0,_.Z)(Sa,[["__scopeId","data-v-798eb0ac"]]);var Wa=Ua;const Ca={data:function(){return{session:{active:!1,id:null,username:"",email:""}}},mounted(){localStorage.session?this.session=JSON.parse(localStorage.session):localStorage.session=JSON.stringify({...this.session})}};var za=Object.assign(Ca,{__name:"App",setup(t){return(t,e)=>((0,n.wg)(),(0,n.j4)(Wa))}});const xa=za;var Oa=xa,Va=s(3045);const Ia=(0,a.ri)(Oa);Ia.component("Calendar",Va.f),Ia.component("DatePicker",Va.Mt),Ia.use(Va.ZP,{}),Ia.use(na),Ia.use(ea.ZP),Ia.mount("#app")}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,o){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],o=t[d][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(r=!1,o<i&&(i=o));if(r){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,n,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,o,i=a[0],r=a[1],l=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var d=l(s)}for(e&&e(a);c<i.length;c++)o=i[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(d)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(566)}));a=s.O(a)})();
//# sourceMappingURL=app.f1ae26bd.js.map